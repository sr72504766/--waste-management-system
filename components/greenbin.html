<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GreenBin - Waste Management System</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f4fdf4; color: #333; }
    nav { background: #2e7d32; color: white; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; }
    nav img { height: 50px; }
    nav ul { list-style: none; display: flex; gap: 20px; margin: 0; padding: 0; }
    nav ul li a { color: white; text-decoration: none; font-weight: bold; }
    .banner { background: url("https://img.freepik.com/free-photo/green-environment-background-with-tree-field_53876-121098.jpg") no-repeat center center; background-size: cover; height: 300px; display: flex; align-items: center; justify-content: center; color: white; text-shadow: 2px 2px 6px rgba(0,0,0,0.5); font-size: 2.5em; font-weight: bold; }
    section { padding: 30px; max-width: 1000px; margin: auto; background: white; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-top: 30px; }
    h2 { color: #2e7d32; }
    input, button, select { width: 100%; padding: 10px; margin: 10px 0; border-radius: 8px; border: 1px solid #ccc; }
    button { background: #2e7d32; color: white; cursor: pointer; font-weight: bold; }
    button:hover { background: #1b5e20; }
    .authorities { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
    .authorities img { height: 70px; margin: 10px; }
    #map { width: 100%; height: 400px; border-radius: 12px; margin-top: 15px; }
    .updates { background: #e8f5e9; padding: 15px; border-radius: 10px; margin-top: 15px; }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav>
    <img src="https://www.nicepng.com/png/detail/10-103287_recycle-png-recycle-bin-logo-png.png" alt="GreenBin Logo">
    <ul>
      <li><a href="#home">Home</a></li>
      <li><a href="#report">Report Waste</a></li>
      <li><a href="#buy-sell">Buy & Sell</a></li>
      <li><a href="#register">Register</a></li>
      <li><a href="#map-section">Track</a></li>
      <li><a href="#contact">Contact</a></li>
    </ul>
  </nav>

  <!-- Banner -->
  <div class="banner" id="home">
    üå± Welcome to GreenBin
  </div>

  <!-- Report Waste -->
  <section id="report">
    <h2>Report Waste</h2>
    <form id="wasteForm" enctype="multipart/form-data">
      <input type="text" id="location" name="location" placeholder="Enter your location" required>
      <input type="file" id="media" name="media" accept="image/*,video/*" required>
      <button type="submit">Submit Report</button>
    </form>
    <ul id="reportList"></ul>
    <div class="updates" id="updateBox">üì¢ Updates will appear here after your report.</div>
  </section>

  <!-- Map -->
  <section id="map-section">
    <h2>Garbage Tracking</h2>
    <p>Track reported garbage locations:</p>
    <div id="map"></div>
  </section>

  <script>
    // Submit Report
    document.getElementById("wasteForm").addEventListener("submit", async function(e) {
      e.preventDefault();
      
      let formData = new FormData();
      formData.append("location", document.getElementById("location").value);
      formData.append("media", document.getElementById("media").files[0]);

      let res = await fetch("http://localhost:5000/report", {
        method: "POST",
        body: formData
      });

      let data = await res.json();
      if(data.success) {
        let li = document.createElement("li");
        li.textContent = "üìç Reported: " + data.location + " ‚úÖ (" + data.file + ")";
        document.getElementById("reportList").appendChild(li);
        document.getElementById("updateBox").innerText = "‚úÖ Action update: Waste collection scheduled for " + data.location;
      }
    });

    // Google Maps API
    function initMap() {
      let map = new google.maps.Map(document.getElementById("map"), {
        center: {lat: 28.6139, lng: 77.2090}, // Delhi center
        zoom: 6
      });
    }
  </script>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap"></script>

</body>
</html>