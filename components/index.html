<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GreenBin - Waste Management System</title>
  <link rel="stylesheet" href="style.css"> <!-- External CSS -->
</head>
<body>

  <!-- Navbar -->
  <nav>
    <img src="https://www.nicepng.com/png/detail/10-103287_recycle-png-recycle-bin-logo-png.png" alt="GreenBin Logo" class="logo">
    <ul>
      <li><a href="#home">Home</a></li>
      <li><a href="#report">Report Waste</a></li>
      <li><a href="#buy-sell">Buy & Sell</a></li>
      <li><a href="#register">Register</a></li>
      <li><a href="#map-section">Track</a></li>
      <li><a href="#contact">Contact</a></li>
      <li><a href="#login">Sign In</a></li>
      <li><a href="#signup">Sign Up</a></li>
    </ul>
  </nav>

  <!-- Banner -->
  <div class="banner" id="home">
    🌱 Welcome to GreenBin
  </div>

  <!-- Report Waste -->
  <section id="report">
    <h2>Report Waste</h2>
    <form id="wasteForm" enctype="multipart/form-data">
      <input type="text" id="location" name="location" placeholder="Enter your location" required>
      <input type="file" id="media" name="media" accept="image/*,video/*" required>
      <button type="submit">Submit Report</button>
    </form>
    <ul id="reportList"></ul>
    <div class="updates" id="updateBox">📢 Updates will appear here after your report.</div>
  </section>

  <!-- User Registration -->
  <section id="register">
    <h2>User Registration</h2>
    <form id="registerForm">
      <input type="text" id="username" name="username" placeholder="Enter your username" required>
      <input type="email" id="email" name="email" placeholder="Enter your email" required>
      <input type="password" id="password" name="password" placeholder="Enter your password" required>
      <button type="submit">Create Account</button>
    </form>
  </section>

  <!-- Map -->
  <section id="map-section">
    <h2>Garbage Tracking</h2>
    <p>Track reported garbage locations & your live GPS:</p>
    <div id="map"></div>
  </section>

  <!-- Scripts -->
  <script src="script.js"></script>
  <!-- ✅ Replace YOUR_API_KEY with your real Google Maps API Key -->
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap"></script>

  <script>
    let map;

    function initMap() {
      // Default location (Delhi center)
      map = new google.maps.Map(document.getElementById("map"), {
        center: { lat: 28.6139, lng: 77.2090 },
        zoom: 6
      });

      // Try HTML5 geolocation (GPS)
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          (position) => {
            const userPos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };

            // Center map to user's location
            map.setCenter(userPos);
            map.setZoom(14);

            // Add marker for user location
            new google.maps.Marker({
              position: userPos,
              map: map,
              title: "📍 You are here"
            });
          },
          () => {
            alert("GPS access denied. Showing default location.");
          }
        );
      } else {
        alert("Your browser does not support GPS.");
      }
    }
  </script>

</body>
</html>