<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GreenBin - Waste Management System</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      background: linear-gradient(to bottom right, #e8f5e9, #f1f8e9);
      color: #333;
    }

    /* Navbar */
    nav {
      background: #2e7d32;
      color: white;
      padding: 12px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    nav img.logo {
      height: 50px;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 20px;
      margin: 0;
      padding: 0;
      align-items: center;
    }
    nav ul li a {
      color: white;
      text-decoration: none;
      font-weight: bold;
    }

    /* Authority logos (top-right corner) */
    .auth-logos {
      display: flex;
      gap: 15px;
      align-items: center;
    }
    .auth-logos img {
      height: 40px;
      border-radius: 6px;
      background: white;
      padding: 3px;
    }

    /* Banner */
    .banner {
      background: url("https://img.freepik.com/free-photo/green-environment-background-with-tree-field_53876-121098.jpg") no-repeat center center;
      background-size: cover;
      height: 280px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      text-shadow: 2px 2px 6px rgba(0,0,0,0.5);
      font-size: 2.5em;
      font-weight: bold;
      border-bottom: 4px solid #2e7d32;
    }

    /* Sections */
    section {
      padding: 30px;
      max-width: 1000px;
      margin: auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      margin-top: 30px;
    }
    h2 { color: #2e7d32; }

    input, button, select, textarea {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
    }
    button {
      background: #2e7d32;
      color: white;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
    }
    button:hover { background: #1b5e20; }

    .updates {
      background: #e8f5e9;
      padding: 15px;
      border-radius: 10px;
      margin-top: 15px;
    }

    #map { width: 100%; height: 400px; border-radius: 12px; margin-top: 15px; }

    /* Sign In/Up modal */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: white;
      padding: 25px;
      border-radius: 12px;
      max-width: 400px;
      width: 90%;
    }
    .modal-content h3 { color: #2e7d32; margin-top: 0; }
    .close-btn {
      float: right;
      font-size: 20px;
      cursor: pointer;
      color: #888;
    }
    .close-btn:hover { color: black; }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav>
    <img src="https://www.nicepng.com/png/detail/10-103287_recycle-png-recycle-bin-logo-png.png" alt="GreenBin Logo" class="logo">
    
    <ul>
      <li><a href="#home">Home</a></li>
      <li><a href="#report">Report Waste</a></li>
      <li><a href="#map-section">Track</a></li>
      <li><a href="#contact">Contact</a></li>
      <li><a href="#" onclick="openModal('signinModal')">Sign In</a></li>
      <li><a href="#" onclick="openModal('signupModal')">Sign Up</a></li>
    </ul>

    <!-- Authority Logos (Top-right) -->
    <div class="auth-logos">
      <img src="https://www.thenudge.org/wp-content/uploads/2024/03/MOSJE_remove_BG-removebg-preview.png" alt="MoSJE">
      <img src="https://www.logopeople.in/wp-content/uploads/2016/06/swachh-bharat-abhiyan-logo-vector-file-scaled.jpg" alt="Swachh Bharat">
      <img src="https://upload.wikimedia.org/wikipedia/commons/d/d9/Logo_of_the_Central_Pollution_Control_Board.svg" alt="CPCB">
      <img src="https://upload.wikimedia.org/wikipedia/en/9/9b/UNEP_logo.svg" alt="UNEP">
    </div>
  </nav>

  <!-- Banner -->
  <div class="banner" id="home">
    üå± Welcome to GreenBin
  </div>

  <!-- Report Waste -->
  <section id="report">
    <h2>Report Waste</h2>
    <form id="wasteForm" enctype="multipart/form-data">
      <input type="text" id="location" name="location" placeholder="Enter your location" required>
      <input type="file" id="media" name="media" accept="image/*,video/*" required>
      <button type="submit">Submit Report</button>
    </form>
    <ul id="reportList"></ul>
    <div class="updates" id="updateBox">üì¢ Updates will appear here after your report.</div>
  </section>

  <!-- Garbage Tracking -->
  <section id="map-section">
    <h2>Garbage Tracking</h2>
    <p>Track reported garbage locations:</p>
    <div id="map"></div>
  </section>

  <!-- Contact -->
  <section id="contact">
    <h2>Contact Us</h2>
    <input type="text" placeholder="Your Name">
    <input type="email" placeholder="Your Email">
    <textarea placeholder="Your Message" style="height:80px;"></textarea>
    <button>Send Message</button>
  </section>

  <!-- Sign In Modal -->
  <div class="modal" id="signinModal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('signinModal')">&times;</span>
      <h3>Sign In</h3>
      <input type="email" id="signinEmail" placeholder="Email" required>
      <input type="password" id="signinPassword" placeholder="Password" required>
      <button onclick="signIn()">Sign In</button>
    </div>
  </div>

  <!-- Sign Up Modal -->
  <div class="modal" id="signupModal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('signupModal')">&times;</span>
      <h3>Create Account</h3>
      <input type="text" id="signupName" placeholder="Full Name" required>
      <input type="email" id="signupEmail" placeholder="Email" required>
      <input type="password" id="signupPassword" placeholder="Password" required>
      <button onclick="signUp()">Register</button>
    </div>
  </div>

  <script>
    // Open/Close modal
    function openModal(id) {
      document.getElementById(id).style.display = "flex";
    }
    function closeModal(id) {
      document.getElementById(id).style.display = "none";
    }

    // Fake Sign In
    function signIn() {
      let email = document.getElementById("signinEmail").value;
      let pass = document.getElementById("signinPassword").value;
      if(email && pass) {
        alert("‚úÖ Signed in as " + email);
        closeModal('signinModal');
      } else {
        alert("‚ùå Please enter login details");
      }
    }

    // Fake Sign Up
    function signUp() {
      let name = document.getElementById("signupName").value;
      let email = document.getElementById("signupEmail").value;
      let pass = document.getElementById("signupPassword").value;
      if(name && email && pass) {
        alert("‚úÖ Account created for " + name);
        closeModal('signupModal');
      } else {
        alert("‚ùå Please fill all details");
      }
    }

    // Waste Report
    document.getElementById("wasteForm").addEventListener("submit", async function(e) {
      e.preventDefault();
      let formData = new FormData();
      formData.append("location", document.getElementById("location").value);
      formData.append("media", document.getElementById("media").files[0]);

      let res = await fetch("http://localhost:5000/report", {
        method: "POST",
        body: formData
      });

      let data = await res.json();
      if(data.success) {
        let li = document.createElement("li");
        li.textContent = "üìç Reported: " + data.location + " ‚úÖ (" + data.file + ")";
        document.getElementById("reportList").appendChild(li);
        document.getElementById("updateBox").innerText = "‚úÖ Waste collection scheduled for " + data.location;
      }
    });

    // Google Maps
    function initMap() {
      let map = new google.maps.Map(document.getElementById("map"), {
        center: {lat: 28.6139, lng: 77.2090}, 
        zoom: 6
      });
    }
  </script>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap"></script>

</body>
</html>
